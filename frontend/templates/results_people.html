{% extends "base.html" %}
{% block content %}

<h2 class="text-center mb-4">Results for "{{ query }}"</h2>

<div class="row mt-4 justify-content-center">

{% for p in results %}
<div class="col-md d-flex">
    <div class="card bg-secondary text-light mb-3 flex-fill shadow-sm">
        <div class="card-body d-flex flex-column">

            <h4 class="mb-3 text-center">{{ p.primary_name }}</h4>

            <div class="mb-3">
                <div><strong>Profession:</strong></div>
                <ul class="list-unstyled small mb-0">
                    {% if p.primary_profession %}
                    {% for prof in p.primary_profession.split(',') %}
                    <li><span class="badge bg-info text-dark">{{ prof.strip() }}</span></li>
                    {% endfor %}
                    {% else %}
                    <li><span class="badge bg-white text-dark">N/A</span></li>
                    {% endif %}
                </ul>
            </div>

            <div class="mb-3">
                <div><strong>Known for:</strong></div>
                <ul class="list-unstyled small mb-0">
                    {% for t in p.known_for_titles %}
                    <li><span class="badge bg-white text-dark">{{ t }}</span></li>
                    {% endfor %}
                </ul>
            </div>

            <a href="/person/{{ p.nconst }}" class="btn btn-warning btn-sm mt-auto align-self-center">
                View details
            </a>

        </div>
    </div>
</div>
{% endfor %}

</div>

{% endblock %}
